<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Innovate – H&S Dashboard</title>
  <style>
    :root { --card: #111827; --ink:#E5E7EB; --muted:#9CA3AF; }
    body{margin:0;background:#0B1220;color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    header{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;border-bottom:1px solid #1F2937}
    header img{height:36px;width:auto}
    header h1{font-size:1.125rem;margin:0;font-weight:600}
    .wrap{max-width:1100px;margin:0 auto;padding:1rem;display:grid;gap:1rem}
    .kpis{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:1rem}
    .card{background:var(--card);border:1px solid #1F2937;border-radius:16px;padding:1rem}
    .kpi h3{margin:.25rem 0 .5rem;font-size:.85rem;color:var(--muted);font-weight:500}
    .kpi .val{font-size:1.6rem;font-weight:700}
    .section h2{margin:0 0 .75rem;font-size:1.05rem;color:var(--muted);font-weight:600}
    .chartBox{position:relative}
    .chartBtns{display:flex;gap:.5rem;margin-top:.5rem}
    .btn{background:#111827;border:1px solid #374151;border-radius:10px;padding:.5rem .75rem;color:var(--ink);cursor:pointer}
    table{width:100%;border-collapse:collapse}
    th,td{padding:.6rem .5rem;border-bottom:1px solid #1F2937}
    th{color:var(--muted);text-align:left;font-weight:600}
    .pill{padding:.15rem .5rem;border-radius:999px;border:1px solid #374151;display:inline-block}
    .ok{color:#10B981;border-color:#065F46}
    .warn{color:#FBBF24;border-color:#7C2D12}
    .bad{color:#F87171;border-color:#7F1D1D}
    @media (max-width:900px){ .kpis{grid-template-columns:repeat(2,minmax(0,1fr));} }
    @media (max-width:520px){ .kpis{grid-template-columns:1fr;} .btn{width:100%} }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header>
    <img src="logo.png" alt="Innovate logo" />
    <h1>Innovate – Health & Safety Dashboard</h1>
  </header>

  <main class="wrap">
    <section class="kpis">
      <div class="card kpi"><h3>Total Behaviour</h3><div id="totalBehaviour" class="val">—</div></div>
      <div class="card kpi"><h3>Total Events</h3><div id="totalEvents" class="val">—</div></div>
      <div class="card kpi"><h3>Total Man Hours (YTD)</h3><div id="hoursYTD" class="val">—</div></div>
      <div class="card kpi"><h3>LTIFR (YTD)</h3><div id="ltifrYTD" class="val">—</div></div>
      <div class="card kpi"><h3>LTI (YTD)</h3><div id="ltiYTD" class="val">—</div></div>
    </section>

    <section class="section card">
      <h2>Behaviour Breakdown</h2>
      <div class="chartBox"><canvas id="behaviourChart" height="180"></canvas></div>
      <div class="chartBtns"><button class="btn" id="dlBehaviour">Download PNG</button></div>
    </section>

    <section class="section card">
      <h2>Incident / Accident Breakdown</h2>
      <div class="chartBox"><canvas id="incidentChart" height="180"></canvas></div>
      <div class="chartBtns"><button class="btn" id="dlIncident">Download PNG</button></div>
    </section>

    <section class="section card" id="complianceSection">
      <h2>Compliance – Days Left</h2>
      <table>
        <thead><tr><th>Item</th><th>Days Left</th><th>Status</th></tr></thead>
        <tbody id="complianceBody"></tbody>
      </table>
      <div id="complianceNote" style="margin-top:8px;color:#9CA3AF;"></div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
